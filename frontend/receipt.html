<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RocketMeal</title>
    <link rel="stylesheet" href="receipt.css">
</head>

<body>
    <header>
        <!-- NAVIGATION BAR -->
        <h1 class="logo_name">ROCKETMEAL</h1>
        <div>
            <p class="logo_description">30 minutes</p>
            <ul class="navigation_bar">
                <li class="nav_list"><a href="">Login</a></li>
                <li class="nav_list"><a href="">About Us</a></li>
                <li class="nav_list"><a href="">Food Categories</a></li>
                <li class="nav_list"><a href="index.html">Home</a></li>
            </ul>
        </div>
    </header>

    <main>
        <div class="box">
            <b class="receiptHeading">Receipt</b>
            <hr>
            <b class="orderFromPlace">Your order from McDonalds</b>
            <br>
            <div id="itemsOrdered">
                <!-- Order items will be dynamically inserted here -->
            </div>
            <hr>
            <div class="subtotal">
                <p class="textHeading">Subtotal: </p>
                <p id="subtotal" class="price">$0.00</p>
            </div>
            <div class="deliveryFee">
                <p class="textHeading">Delivery Fee: </p>
                <p id="deliveryFee" class="price">$0.00</p>
            </div>
            <div class="serviceFee">
                <p class="textHeading">Service Fee: </p>
                <p id="serviceFee" class="price">$0.00</p>
            </div>
            <hr>
            <div class="total">
                <p class="textHeading">Total: </p>
                <p id="total" class="price">$0.00</p>
            </div>
        </div>
        <div class="container">
            <button class="buttonText" onclick="window.location.href='index.html'">
                Continue
            </button>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 ROCKETMEAL</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const orderDetails = JSON.parse(localStorage.getItem('orderDetails'));

            if (orderDetails) {
                const itemsOrdered = document.getElementById('itemsOrdered');
                const subtotalElement = document.getElementById('subtotal');
                const deliveryFeeElement = document.getElementById('deliveryFee');
                const serviceFeeElement = document.getElementById('serviceFee');
                const totalElement = document.getElementById('total');

                orderDetails.items.forEach(item => {
                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'itemsOrdered';

                    itemDiv.innerHTML = `
                        <p class="quantity">${item.quantity}x</p>
                        <p class="item">${item.name}</p>
                        <p class="price">$${(item.price * item.quantity).toFixed(2)}</p>
                    `;
                    itemsOrdered.appendChild(itemDiv);
                });

                subtotalElement.textContent = `$${orderDetails.subtotal}`;
                deliveryFeeElement.textContent = `$${orderDetails.deliveryFee}`;
                serviceFeeElement.textContent = `$${orderDetails.serviceFee}`;
                totalElement.textContent = `$${orderDetails.total}`;
            } else {
                // Handle the case where there are no order details
                console.error('No order details found in localStorage.');
            }
        });
    </script>
</body>

</html>
